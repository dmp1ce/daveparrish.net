<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>How to access websites with different IPs but the same URL on the same computer for web development purposes | Dave Parrish</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link type="text/css" rel="stylesheet" media="all" href="../sites/webpagedeveloper.me/files/css/css_100687e636434ff5883b7a0da26e427f.css" />
  <script type="text/javascript" src="../sites/webpagedeveloper.me/files/js/js_44b28fe23efd28d71ff2a59da30fa2ca.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/", "googleanalytics": { "trackOutgoing": 1, "trackMailto": 1, "trackDownload": 1, "trackDownloadExtensions": "7z|aac|arc|arj|asf|asx|avi|bin|csv|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls|xml|z|zip" }, "lightbox2": { "rtl": 0, "file_path": "/(\\w\\w/)sites/webpagedeveloper.me/files", "default_image": "/sites/all/modules/lightbox2/images/brokenimage.jpg", "border_size": 10, "font_color": "000", "box_color": "fff", "top_position": "", "overlay_opacity": "0.8", "overlay_color": "000", "disable_close_click": 1, "resize_sequence": 0, "resize_speed": 400, "fade_in_speed": 400, "slide_down_speed": 600, "use_alt_layout": 0, "disable_resize": 0, "disable_zoom": 0, "force_show_nav": 0, "show_caption": true, "loop_items": 0, "node_link_text": "", "node_link_target": 0, "image_count": "Image !current of !total", "video_count": "Video !current of !total", "page_count": "Page !current of !total", "lite_press_x_close": "press \x3ca href=\"#\" onclick=\"hideLightbox(); return FALSE;\"\x3e\x3ckbd\x3ex\x3c/kbd\x3e\x3c/a\x3e to close", "download_link_text": "", "enable_login": false, "enable_contact": false, "keys_close": "c x 27", "keys_previous": "p 37", "keys_next": "n 39", "keys_zoom": "z", "keys_play_pause": "32", "display_image_size": "original", "image_node_sizes": "()", "trigger_lightbox_classes": "", "trigger_lightbox_group_classes": "", "trigger_slideshow_classes": "", "trigger_lightframe_classes": "", "trigger_lightframe_group_classes": "", "custom_class_handler": 0, "custom_trigger_classes": "", "disable_for_gallery_lists": true, "disable_for_acidfree_gallery_lists": true, "enable_acidfree_videos": true, "slideshow_interval": 5000, "slideshow_automatic_start": true, "slideshow_automatic_exit": true, "show_play_pause": true, "pause_on_next_click": false, "pause_on_previous_click": true, "loop_slides": false, "iframe_width": 600, "iframe_height": 400, "iframe_border": 1, "enable_video": 0 } });
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
window.google_analytics_uacct = "UA-9522659-1";
//--><!]]>
</script>
  <!--[if lt IE 7]>
    <link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/interactive_media_modified/fix-ie.css" />  <![endif]-->
  <script type="text/javascript"> </script>
</head>

<body class="not-front not-logged-in page-node node-type-blog no-sidebars">
<div id="wrapper"><!-- begin wrapper -->
<div id="container" class="clear-block"><!-- begin container -->
  <div id="header"><!-- begin header -->
        <div id="slogan-floater"><!-- begin slogan-floater -->
      <h1 class='site-name'><a href="../index.html" title="Dave Parrish">Dave Parrish</a></h1>      <div class='site-slogan'>Freelance web page developer</div>    </div><!-- end slogan-floater -->
    <!-- begin primary_links -->
      <ul class="primary-links"><li class="menu-153 first"><a href="../service.html" title="Hire me">Service</a></li>
<li class="menu-246"><a href="../portfolio.html">Portfolio</a></li>
<li class="menu-159"><a href="../contact.html" title="Contact me with your feedback or questions.">Contact</a></li>
<li class="menu-715 last"><a href="../user/loginc332.html?destination=node%2F48" title="Log in, create new account or request new password." class="popups-form-reload">Log in/Create account</a></li>
</ul>    <!-- end primary_links -->
  </div><!-- end header -->
  <div id="breadcrumb"><div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../blog.html">Blogs</a> » <a href="../blogs/david.html">David&#039;s blog</a></div></div>
      <div id="center"><div id="squeeze"><!-- begin center -->
    <h2 class="title">How to access websites with different IPs but the same URL on the same computer for web development purposes</h2>                <div class="clear-block">
      <div class="node">
    <div class="meta meta-header">
            <div class="submitted">Submitted by <a href="../users/david.html" title="View user profile.">David</a> on Tue, 2011-12-13 22:44</div>    <div class="terms"><ul class="links inline"><li class="taxonomy_term_57 first"><a href="../category/tags/development.html" rel="tag" title="">development</a></li>
<li class="taxonomy_term_55"><a href="../category/tags/hosts.html" rel="tag" title="">hosts</a></li>
<li class="taxonomy_term_58"><a href="../category/tags/proxy.html" rel="tag" title="">proxy</a></li>
<li class="taxonomy_term_56 last"><a href="../category/tags/squid.html" rel="tag" title="">squid</a></li>
</ul></div>  </div>
  <div class="content">
    <!-- google_ad_section_start --><p>In developing a complex site you may find yourself needing a production, development and <span data-scayt_word="localhost" data-scaytid="1">localhost</span> website in order to separate changes appropriately. &nbsp;If this is the case, you may also find yourself needing to use the exact same URL for each site. &nbsp;In order to access your sites you probably have been changing the hosts file over and over again to switch which site you would access. &nbsp;For example:</p><div>If I wanted to access mywebsite.com on my <span data-scayt_word="localhost" data-scaytid="2">localhost</span> I would put in my hosts file:</div>
<pre>127.0.0.1  mywebsite.com</pre>
<div>But if I wanted to access the development site I might use:</div>
<pre>222.222.222.222 mywebsite.com</pre>
<div>This becomes a problem if you for some reason need to compare the two websites or are just switching back and forth a lot. &nbsp;In the past I have used separate computers (or a VM), but I found that solution clunky.</div><div>&nbsp;</div><div>After doing a little bit of searching I found <a href="http://superuser.com/questions/221706/browser-with-its-own-hosts-file">this</a> question on Super User which is exactly what I wanted to know. &nbsp;The question is answered in that post but I wanted to expand on my solution a little bit more. &nbsp;The OS I used was Ubuntu 11.10 but the basic idea should work for any modern OS.</div><div>&nbsp;</div><div>My solution is to run a proxy server on my local machine for each development site&nbsp;that I want to access in addition to what the default hosts file already gives me access to. &nbsp;Then I would modify the proxy server software configuration so that they use an alternate hosts file that would access the site that I want them to. &nbsp;Once the proxy is configured I would create a shortcut or run my browser so that it loads with the proxy settings for the development site I want the browser to access. &nbsp;Because this might be a bit confusing (it was for me), I'll run through the steps I took to get this setup on Ubuntu.</div><div>&nbsp;</div><h3>Install the first proxy server (One additional development site)</h3><ul><li>Install the proxy server. &nbsp;I used Squid.</li></ul>
<pre><span data-scayt_word="sudo" data-scaytid="4">sudo</span> apt-get install <span data-scayt_word="squid3" data-scaytid="5">squid3</span>
</pre>
<ul><li>Set a new hosts file in the squid.conf. &nbsp;In the /etc/<span data-scayt_word="squid3" data-scaytid="6">squid3</span>/squid.conf file you will want to change the line &nbsp;</li></ul>
<pre>#hosts_file /etc/hosts </pre>
<p>to</p>
<pre>hosts_file /etc/hosts-squid</pre>
<ul><li>Create the hosts file referenced in the squid.conf file.</li></ul>
<pre><span data-scayt_word="sudo" data-scaytid="7">sudo</span> cp /etc/hosts /etc/hosts-squid</pre>
<ul><li>After you have creating the new hosts file you will need to modify it so that it references your second development site. &nbsp;For example your normal hosts file might access the production site and your hosts-squid file might access your <span data-scayt_word="localhost" data-scaytid="8">localhost</span>&nbsp;or development site.</li><li>Setup your browser to use the proxy settings if you want to access the new development site. &nbsp;For Chromium I added the following to my chromium command.</li></ul>
<pre>chromium-browser --proxy-server=localhost:3128</pre>
<p>That command should start Chromium and give you access to the development sites that you accessed in your hosts-squid file. &nbsp;Now you can effectively have one instance of Chromium open using your hosts file and one instance of Chromium open using the hosts-squid file for DNS resolution. &nbsp;Of course, you could do the same with any other browser or program as well which supports proxies.</p><h3>Running two or more proxy server instances</h3><p>If all you wanted to do was access one additional development site at the same time then you are done! &nbsp;But if you want to have two or more development sites accessible at the same time then you will need to run multiple instances of the proxy server. &nbsp;Luckily this isn't as bad as it sounds. &nbsp;For the case of Squid, instructions on how to do this can be found <a href="http://wiki.squid-cache.org/MultipleInstances">here</a>. &nbsp;The basic idea is that you will need to make additional copies of the /etc/squid3/squid.conf, /etc/init.d/squid3 and /etc/hosts-squid files so that a separate&nbsp;Squid process can run which will not conflict with the already running instances. &nbsp;Some settings you will need to change in the squid.conf and squid3 start script is the process id (PID), the cache directory, the port number and you will probably want to change the log file names too.</p><p>Good luck and happy web developing!</p><!-- google_ad_section_end -->    <div class="meta meta-footer">
      <ul class="links inline"><li class="blog_usernames_blog first last"><a href="../blogs/david.html" title="Read David&#039;s latest blog entries.">David&#039;s blog</a></li>
</ul>    </div>
  </div>
</div>
    </div>
      </div></div><!-- end center -->
    <div id="footer"><!-- start footer -->
          </div><!-- end footer -->
</div><!-- end wrapper -->
</div><!-- end container -->
<script type="text/javascript">
<!--//--><![CDATA[//><!--
var _gaq = _gaq || [];_gaq.push(["_setAccount", "UA-9522659-1"]);_gaq.push(["_setVar", "anonymous user"]);_gaq.push(['_setCustomVar', 1, "User roles", "anonymous user", 1]);_gaq.push(["_trackPageview"]);(function() {var ga = document.createElement("script");ga.type = "text/javascript";ga.async = true;ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";var s = document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ga, s);})();
//--><!]]>
</script>
</body>

<!-- Mirrored from webpagedeveloper.me/blog/how-access-websites-different-ips-same-url-same-computer-web-development-purposes by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 12 Jun 2013 15:46:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
</html>
