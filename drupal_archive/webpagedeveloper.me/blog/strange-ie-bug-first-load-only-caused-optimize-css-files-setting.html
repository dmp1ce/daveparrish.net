<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Strange IE bug on the first load only; Caused by the &quot;Optimize CSS files&quot; setting | Dave Parrish</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link type="text/css" rel="stylesheet" media="all" href="../sites/webpagedeveloper.me/files/css/css_100687e636434ff5883b7a0da26e427f.css" />
  <script type="text/javascript" src="../sites/webpagedeveloper.me/files/js/js_44b28fe23efd28d71ff2a59da30fa2ca.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/", "googleanalytics": { "trackOutgoing": 1, "trackMailto": 1, "trackDownload": 1, "trackDownloadExtensions": "7z|aac|arc|arj|asf|asx|avi|bin|csv|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls|xml|z|zip" }, "lightbox2": { "rtl": 0, "file_path": "/(\\w\\w/)sites/webpagedeveloper.me/files", "default_image": "/sites/all/modules/lightbox2/images/brokenimage.jpg", "border_size": 10, "font_color": "000", "box_color": "fff", "top_position": "", "overlay_opacity": "0.8", "overlay_color": "000", "disable_close_click": 1, "resize_sequence": 0, "resize_speed": 400, "fade_in_speed": 400, "slide_down_speed": 600, "use_alt_layout": 0, "disable_resize": 0, "disable_zoom": 0, "force_show_nav": 0, "show_caption": true, "loop_items": 0, "node_link_text": "", "node_link_target": 0, "image_count": "Image !current of !total", "video_count": "Video !current of !total", "page_count": "Page !current of !total", "lite_press_x_close": "press \x3ca href=\"#\" onclick=\"hideLightbox(); return FALSE;\"\x3e\x3ckbd\x3ex\x3c/kbd\x3e\x3c/a\x3e to close", "download_link_text": "", "enable_login": false, "enable_contact": false, "keys_close": "c x 27", "keys_previous": "p 37", "keys_next": "n 39", "keys_zoom": "z", "keys_play_pause": "32", "display_image_size": "original", "image_node_sizes": "()", "trigger_lightbox_classes": "", "trigger_lightbox_group_classes": "", "trigger_slideshow_classes": "", "trigger_lightframe_classes": "", "trigger_lightframe_group_classes": "", "custom_class_handler": 0, "custom_trigger_classes": "", "disable_for_gallery_lists": true, "disable_for_acidfree_gallery_lists": true, "enable_acidfree_videos": true, "slideshow_interval": 5000, "slideshow_automatic_start": true, "slideshow_automatic_exit": true, "show_play_pause": true, "pause_on_next_click": false, "pause_on_previous_click": true, "loop_slides": false, "iframe_width": 600, "iframe_height": 400, "iframe_border": 1, "enable_video": 0 } });
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
window.google_analytics_uacct = "UA-9522659-1";
//--><!]]>
</script>
  <!--[if lt IE 7]>
    <link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/interactive_media_modified/fix-ie.css" />  <![endif]-->
  <script type="text/javascript"> </script>
</head>

<body class="not-front not-logged-in page-node node-type-blog no-sidebars">
<div id="wrapper"><!-- begin wrapper -->
<div id="container" class="clear-block"><!-- begin container -->
  <div id="header"><!-- begin header -->
        <div id="slogan-floater"><!-- begin slogan-floater -->
      <h1 class='site-name'><a href="../index.html" title="Dave Parrish">Dave Parrish</a></h1>      <div class='site-slogan'>Freelance web page developer</div>    </div><!-- end slogan-floater -->
    <!-- begin primary_links -->
      <ul class="primary-links"><li class="menu-153 first"><a href="../service.html" title="Hire me">Service</a></li>
<li class="menu-246"><a href="../portfolio.html">Portfolio</a></li>
<li class="menu-159"><a href="../contact.html" title="Contact me with your feedback or questions.">Contact</a></li>
<li class="menu-715 last"><a href="../user/loginfc9b.html?destination=node%2F27" title="Log in, create new account or request new password." class="popups-form-reload">Log in/Create account</a></li>
</ul>    <!-- end primary_links -->
  </div><!-- end header -->
  <div id="breadcrumb"><div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../blog.html">Blogs</a> » <a href="../blogs/david.html">David&#039;s blog</a></div></div>
      <div id="center"><div id="squeeze"><!-- begin center -->
    <h2 class="title">Strange IE bug on the first load only; Caused by the &quot;Optimize CSS files&quot; setting</h2>                <div class="clear-block">
      <div class="node">
    <div class="meta meta-header">
            <div class="submitted">Submitted by <a href="../users/david.html" title="View user profile.">David</a> on Sun, 2010-04-25 15:47</div>    <div class="terms"><ul class="links inline"><li class="taxonomy_term_13 first"><a href="../category/tags/css.html" rel="tag" title="">css</a></li>
<li class="taxonomy_term_4"><a href="../category/tags/drupal.html" rel="tag" title="">drupal</a></li>
<li class="taxonomy_term_14 last"><a href="../category/tags/javascript.html" rel="tag" title="">javascript</a></li>
</ul></div>  </div>
  <div class="content">
    <!-- google_ad_section_start --><p>Most of the time turning on "Optimize CSS files" in the performace section of Drupal works great.  But, for some reason, having this option turned on was causing the jquery.cycle plugin to break only on the very first load of Internet Explorer.  What was happening was that the second image to transition in was being resized to about 50x50px when it should have been something like 900x300px.  </p>
<p>Let me tell you, this was a difficult bug to test because after the first load of Internet Explorer on my machine I couldn't test any more.  At first I tried using online website screenshot services to test the bug but they also ONLY were only getting the error on the first screenshot.  Eventually I had to go to the trusty virtual machine testing approach using Virutal PC loaded with Vista.  </p>
<p>As I said earlier, the only thing I had to change was the Optimize CSS files: from Enabled to Disabled under the /admin/settings/performance settings.  I wish I would have tried this about 8 hours earlier!</p>
<p>This was one of the strangest bugs I have ever seen as a web developer.  It ONLY occured on the VERY first load of IE8 or IE7.  All other browsers worked fine and IE worked fine MOST of the time.  Even after clearing the cache for IE I could not reproduce the bug.  What craziness is IE doing to cause the bug to occur only on the first load.  Is there a cache somewhere I don't know about?  Maybe it was a race condition error?  I never figure it out.</p>
<!-- google_ad_section_end -->    <div class="meta meta-footer">
      <ul class="links inline"><li class="blog_usernames_blog first last"><a href="../blogs/david.html" title="Read David&#039;s latest blog entries.">David&#039;s blog</a></li>
</ul>    </div>
  </div>
</div>
<div id="comments">
  <a id="comment-93"></a>
<div class="comment comment-published clear-block">
  <h3 class="title"><a href="strange-ie-bug-first-load-only-caused-optimize-css-files-setting.html#comment-93" class="active">Exact same error here</a></h3>
  <div class="meta meta-header">
        <div class="submitted">Submitted by Anonymous on Mon, 2010-05-31 08:16.</div>  </div>
  <div class="content">
    <p>Hi Dave,</p>
<p>I'am having the exact same problem here; did you find any solutions? Iam not using drupal, but cycle plugin.</p>
<p>Thanks<br />
Peter</p>
        <div class="meta meta-footer">
          </div>
  </div>
</div>
<div class="indented"><a id="comment-94"></a>
<div class="comment comment-published clear-block">
  <h3 class="title"><a href="strange-ie-bug-first-load-only-caused-optimize-css-files-setting.html#comment-94" class="active">Sorry, I never found out why</a></h3>
  <div class="meta meta-header">
        <div class="submitted">Submitted by <a href="../users/david.html" title="View user profile.">David</a> on Thu, 2010-06-10 02:19.</div>  </div>
  <div class="content">
    <p>Sorry, I never found out why this was happening.  My only solution was to turn off optimization in Drupal.</p>
        <div class="meta meta-footer">
          </div>
  </div>
</div>
</div><a id="comment-106"></a>
<div class="comment comment-published clear-block">
  <h3 class="title"><a href="strange-ie-bug-first-load-only-caused-optimize-css-files-setting.html#comment-106" class="active">same problem</a></h3>
  <div class="meta meta-header">
        <div class="submitted">Submitted by Anonymous on Mon, 2011-06-13 10:44.</div>  </div>
  <div class="content">
    <p>Im haveing the same problem. I am not using drupal tho. Is there any way to so the same thing you did but with only notepad?</p>
        <div class="meta meta-footer">
          </div>
  </div>
</div>
<div class="indented"><a id="comment-107"></a>
<div class="comment comment-published clear-block">
  <h3 class="title"><a href="strange-ie-bug-first-load-only-caused-optimize-css-files-setting.html#comment-107" class="active">In Drupal, Optimize CSS tries</a></h3>
  <div class="meta meta-header">
        <div class="submitted">Submitted by <a href="../users/david.html" title="View user profile.">David</a> on Thu, 2011-06-16 15:24.</div>  </div>
  <div class="content">
    <p>In Drupal, Optimize CSS tries to put all of the CSS files into one file making the browser load faster and also getting around a known IE CSS file limit.  To answer your question, there may be something in your CSS that is causing the file to not load correctly on the first load.  Are you using a CMS of any kind?</p>
        <div class="meta meta-footer">
          </div>
  </div>
</div>
</div><a id="comment-108"></a>
<div class="comment comment-published clear-block">
  <h3 class="title"><a href="strange-ie-bug-first-load-only-caused-optimize-css-files-setting.html#comment-108" class="active">work around</a></h3>
  <div class="meta meta-header">
        <div class="submitted">Submitted by Anonymous on Tue, 2011-09-20 13:16.</div>  </div>
  <div class="content">
    <p>This is old- but in case anyone finds this in a search engine, there is a work around.  I had a similar issue with jquery UI not loading its css inside of a lightbox.  The workaround is to set preprocessing to FALSE in the drupal_add_css call - e.g.:</p>
<p>drupal_add_css(drupal_get_path('module', 'jquery_ui').'/jquery.ui/themes/base/jquery.ui.all.css','module','all',FALSE);</p>
        <div class="meta meta-footer">
          </div>
  </div>
</div>
</div>
    </div>
      </div></div><!-- end center -->
    <div id="footer"><!-- start footer -->
          </div><!-- end footer -->
</div><!-- end wrapper -->
</div><!-- end container -->
<script type="text/javascript">
<!--//--><![CDATA[//><!--
var _gaq = _gaq || [];_gaq.push(["_setAccount", "UA-9522659-1"]);_gaq.push(["_setVar", "anonymous user"]);_gaq.push(['_setCustomVar', 1, "User roles", "anonymous user", 1]);_gaq.push(["_trackPageview"]);(function() {var ga = document.createElement("script");ga.type = "text/javascript";ga.async = true;ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";var s = document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ga, s);})();
//--><!]]>
</script>
</body>

<!-- Mirrored from webpagedeveloper.me/blog/strange-ie-bug-first-load-only-caused-optimize-css-files-setting by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 12 Jun 2013 15:54:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
</html>
